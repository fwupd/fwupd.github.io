<!--
SPDX-FileCopyrightText: fwupd Development Team

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>FwupdPlugin &ndash; 1.0: Plugin: Nordic HID</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  
  <meta property="og:image:width" content="256"/>
  <meta property="og:image:height" content="256"/>
  <meta property="og:image:secure_url" content="org.freedesktop.fwupd.svg"/>
  <meta property="og:image:alt" content="FwupdPlugin-1.0"/>
  

  
  <meta property="og:title" content="FwupdPlugin: Plugin: Nordic HID"/>
  <meta property="og:description" content="Reference for FwupdPlugin-1.0: Plugin: Nordic HID"/>
  <meta name="twitter:title" content="FwupdPlugin: Plugin: Nordic HID"/>
  <meta name="twitter:description" content="Reference for FwupdPlugin-1.0: Plugin: Nordic HID"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap_fwupdplugin.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      <div class="section">
        <img src="org.freedesktop.fwupd.svg" class="logo"/>
      </div>
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">FwupdPlugin</a></h3>
        <p>API Version: 1.0</p>
        
        <p>Library Version: 1.9.9</p>
        
      </div>
      
      
      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2023.1</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <section>
    <div class="docblock">
    <h2 id="introduction">Introduction<a class="md-anchor" href="#introduction" title="Permanent link"></a></h2>
<p>This plugin is able flash the firmware for the hardware supported by <code>nRF52-Desktop</code>.
Tested with the following&nbsp;devices:</p>
<ul>
<li><a href="https://www.nordicsemi.com/Products/nRF52840">nrf52840dk development&nbsp;kit</a></li>
<li><a href="https://www.nordicsemi.com/Products/Development-hardware/nrf52840-dongle">nRF52840&nbsp;Dongle</a></li>
<li>nRF52840 Gaming&nbsp;Mouse</li>
<li>nRF52832 Desktop&nbsp;Keyboard</li>
</ul>
<p>The plugin is using Nordic Semiconductor
<a href="https://developer.nordicsemi.com/nRF_Connect_SDK/doc/latest/nrf/applications/nrf_desktop/doc/config_channel.html"><span class="caps">HID</span> config channel</a>
to perform devices&nbsp;update.</p>
<h2 id="firmware-format">Firmware Format<a class="md-anchor" href="#firmware-format" title="Permanent link"></a></h2>
<p>The cabinet file contains <span class="caps">ZIP</span> archive prepared by Nordic Semiconductor.
This <span class="caps">ZIP</span> archive includes 2 signed image blobs for the target
device, one firmware blob per application slot, and the <code>manifest.json</code> file with the metadata description.
At the moment only <a href="https://developer.nordicsemi.com/nRF_Connect_SDK/doc/latest/nrf/samples/bootloader/README.html#bootloader">nRF Secure Immutable Bootloader</a>
aka &#8220;B0&#8221; is supported and&nbsp;tested.</p>
<p>This plugin supports the following protocol <span class="caps">ID</span>:</p>
<ul>
<li>Nordic <span class="caps">HID</span> Config Channel: <code>com.nordic.hidcfgchannel</code></li>
</ul>
<h2 id="guid-generation">GUID Generation<a class="md-anchor" href="#guid-generation" title="Permanent link"></a></h2>
<p>For <span class="caps">GUID</span> generation the target board name, bootloader name and generation are used in addition to standard <span class="caps">HIDRAW</span> DeviceInstanceId values.
The generation string is an application-specific property that allows to distinguish configurations
that use the same board and bootloader, but are not&nbsp;interoperable.</p>
<p><span class="caps">GUID</span>&nbsp;examples:</p>
<ul>
<li><code>HIDRAW\VEN_1915&amp;DEV_52DE&amp;BOARD_nrf52840dk&amp;BL_B0&amp;GEN_default</code></li>
<li><code>HIDRAW\VEN_1915&amp;DEV_52DE&amp;BOARD_nrf52840dk&amp;BL_MCUBOOT&amp;GEN_office</code></li>
</ul>
<p>Because handling of the generation parameter was introduced later, it is not supported by older versions of fwupd.
To ensure compatibility with firmware updates that were released before introducing the support for the generation parameter, devices with the <code>default</code> generation report an additional <span class="caps">GUID</span> that omits the generation&nbsp;parameter.</p>
<p><span class="caps">GUID</span> examples (devices with generation set to <code>default</code> or without support for the generation&nbsp;parameter):</p>
<ul>
<li><code>HIDRAW\VEN_1915&amp;DEV_52DE&amp;BOARD_nrf52840dk&amp;BL_B0</code></li>
<li><code>HIDRAW\VEN_1915&amp;DEV_52DE&amp;BOARD_nrf52840dk&amp;BL_MCUBOOT</code></li>
</ul>
<h2 id="quirk-use">Quirk Use<a class="md-anchor" href="#quirk-use" title="Permanent link"></a></h2>
<p>This plugin also uses the following plugin-specific&nbsp;quirks:</p>
<h3 id="nordichidbootloader">NordicHidBootloader<a class="md-anchor" href="#nordichidbootloader" title="Permanent link"></a></h3>
<p>Explicitly set the expected bootloader type.
Only the <code>B0</code> bootloader can be set by the quirk file.
Other values can only be provided by device.
This quirk must be set for devices without support of <code>bootloader variant</code> <span class="caps">DFU</span>&nbsp;option.</p>
<h3 id="nordichidgeneration">NordicHidGeneration<a class="md-anchor" href="#nordichidgeneration" title="Permanent link"></a></h3>
<p>Explicitly set the expected generation.
Only the <code>default</code> generation can be set by the quirk file.
Other values can only be provided by device.
This quirk must be set for devices that do not support the <code>devinfo</code> <span class="caps">DFU</span>&nbsp;option.</p>
<h2 id="update-behavior">Update Behavior<a class="md-anchor" href="#update-behavior" title="Permanent link"></a></h2>
<p>The firmware is deployed when the device is in normal runtime mode, and the
device will reset when the new firmware has been&nbsp;written.</p>
<h2 id="vendor-id-security">Vendor ID Security<a class="md-anchor" href="#vendor-id-security" title="Permanent link"></a></h2>
<p>The vendor <span class="caps">ID</span> is set from the <span class="caps">HID</span> vendor <span class="caps">ID</span>, in this instance set
to <code>HIDRAW:0x1915</code>.</p>
<h2 id="external-interface-access">External Interface Access<a class="md-anchor" href="#external-interface-access" title="Permanent link"></a></h2>
<p>This plugin requires ioctl <code>HIDIOCSFEATURE</code> and <code>HIDIOCGFEATURE</code> access.</p>
<h2 id="version-considerations">Version Considerations<a class="md-anchor" href="#version-considerations" title="Permanent link"></a></h2>
<p>This plugin has been available since fwupd version <code>1.7.3</code>.</p>
<h2 id="owners">Owners<a class="md-anchor" href="#owners" title="Permanent link"></a></h2>
<p>Anyone can submit a pull request to modify this plugin, but the following people should be
consulted before making major or functional&nbsp;changes:</p>
<ul>
<li>Marek Pieta: <code>MarekPieta</code></li>
</ul>
    </div>
  </section>
</section>


    
<div id="toc" class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      
        
        <li class="toc-list-item"><a href="#introduction"><span class="link-text">Introduction</span></a></li>
          
        
        <li class="toc-list-item"><a href="#firmware-format"><span class="link-text">Firmware Format</span></a></li>
          
        
        <li class="toc-list-item"><a href="#guid-generation"><span class="link-text">GUID Generation</span></a></li>
          
        
        <li class="toc-list-item"><a href="#quirk-use"><span class="link-text">Quirk Use</span></a></li>
          
          <ul class="toc-list">
          
            <li class="toc-list-item"><a href="#nordichidbootloader"><span class="link-text">NordicHidBootloader</span></a></li>
          
            <li class="toc-list-item"><a href="#nordichidgeneration"><span class="link-text">NordicHidGeneration</span></a></li>
          
          </ul>
          
        
        <li class="toc-list-item"><a href="#update-behavior"><span class="link-text">Update Behavior</span></a></li>
          
        
        <li class="toc-list-item"><a href="#vendor-id-security"><span class="link-text">Vendor ID Security</span></a></li>
          
        
        <li class="toc-list-item"><a href="#external-interface-access"><span class="link-text">External Interface Access</span></a></li>
          
        
        <li class="toc-list-item"><a href="#version-considerations"><span class="link-text">Version Considerations</span></a></li>
          
        
        <li class="toc-list-item"><a href="#owners"><span class="link-text">Owners</span></a></li>
          
        
      
    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>