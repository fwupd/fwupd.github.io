<!--
SPDX-FileCopyrightText: 2021 GNOME Foundation

SPDX-License-Identifier: Apache-2.0 OR GPL-3.0-or-later
-->

<!--
SPDX-FileCopyrightText: 2021 GNOME Foundation

SPDX-License-Identifier: Apache-2.0 OR GPL-3.0-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>FwupdPlugin &ndash; 1.0: Environment Variables</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  
  <meta property="og:image:width" content="256"/>
  <meta property="og:image:height" content="256"/>
  <meta property="og:image:secure_url" content="org.freedesktop.fwupd.svg"/>
  <meta property="og:image:alt" content="FwupdPlugin-1.0"/>
  

  
  <meta property="og:title" content="FwupdPlugin: Environment Variables"/>
  <meta property="og:description" content="Reference for FwupdPlugin-1.0: Environment Variables"/>
  <meta name="twitter:title" content="FwupdPlugin: Environment Variables"/>
  <meta name="twitter:description" content="Reference for FwupdPlugin-1.0: Environment Variables"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap_fwupdplugin.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      <div class="section">
        <img src="org.freedesktop.fwupd.svg" class="logo"/>
      </div>
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">FwupdPlugin</a></h3>
        <p>API Version: 1.0</p>
        
        <p>Library Version: 1.8.8</p>
        
      </div>
      
      
    </nav>
    
    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <section>
    <div class="docblock">
    <p>When running fwupd reads some variables from your environment and changes some
behavior. This might be useful for debugging, or to make fwupd run somewhere
with a non-standard filesystem&nbsp;layout.</p>
<h2 id="fwupdmgr-and-fwupdtool">fwupdmgr and fwupdtool<a class="md-anchor" href="#fwupdmgr-and-fwupdtool" title="Permanent link"></a></h2>
<ul>
<li><code>DISABLE_SSL_STRICT</code> disables strict <span class="caps">SSL</span> certificate checking, which may make
  downloading files work when using some antisocial corporate&nbsp;firewalls.</li>
<li><code>FWUPD_CURL_VERBOSE</code> shows more information when downloading&nbsp;files</li>
<li><code>FWUPD_DEVICE_TESTS_BASE_URI</code> sets the base <span class="caps">URI</span> when downloading firmware for the&nbsp;device-tests</li>
<li><code>FWUPD_SUPPORTED</code> overrides the <code>-Dsupported_build</code> meson option at&nbsp;runtime</li>
<li><code>FWUPD_VERBOSE</code> is set when running <code>--verbose</code></li>
<li><code>FWUPD_BACKEND_VERBOSE</code> can be used to show detailed plugin and backend&nbsp;debugging</li>
<li><code>FWUPD_XMLB_VERBOSE</code> can be set to show Xmlb silo regeneration and quirk&nbsp;matches</li>
<li><code>FWUPD_DBUS_SOCKET</code> is used to set the socket filename if running without a&nbsp;dbus-daemon</li>
<li><code>FWUPD_DOWNLOAD_VERBOSE</code> can be used to show wget or curl&nbsp;output</li>
<li><code>FWUPD_PROFILE</code> can be used to set the profile traceback threshold value in&nbsp;ms</li>
<li><code>FWUPD_FUZZER_RUNNING</code> if the firmware format is being&nbsp;fuzzed</li>
<li>standard glibc variables like <code>LANG</code> are also honored for <span class="caps">CLI</span> tools that are&nbsp;translated</li>
<li>libcurl respects the session proxy, e.g. <code>http_proxy</code>, <code>all_proxy</code>, <code>sftp_proxy</code> and <code>no_proxy</code></li>
</ul>
<h2 id="daemon">daemon<a class="md-anchor" href="#daemon" title="Permanent link"></a></h2>
<ul>
<li><code>FWUPD_MACHINE_KIND</code> can be used to override the detected machine type, e.g. <code>physical</code>, <code>virtual</code>, or <code>container</code></li>
<li><code>FWUPD_HOST_EMULATE</code> can be used to load test data from <code>/usr/share/fwupd/host-emulate.d</code>, e.g. <code>thinkpad-p1-no-iommu.json.gz</code></li>
</ul>
<h2 id="self-tests">Self Tests<a class="md-anchor" href="#self-tests" title="Permanent link"></a></h2>
<ul>
<li><code>CI_NETWORK</code> if <span class="caps">CI</span> is running with network&nbsp;access</li>
<li><code>TPM_SERVER_RUNNING</code> if an emulated <span class="caps">TPM</span> is&nbsp;running</li>
</ul>
<h2 id="shared-libfwupdplugin">Shared libfwupdplugin<a class="md-anchor" href="#shared-libfwupdplugin" title="Permanent link"></a></h2>
<ul>
<li><code>FU_HID_DEVICE_VERBOSE</code> shows <span class="caps">HID</span>&nbsp;traffic</li>
<li><code>FU_SREC_FIRMWARE_VERBOSE</code> shows more information about parsing Motorola S-record&nbsp;files</li>
<li><code>FU_IHEX_FIRMWARE_VERBOSE</code> shows more information about parsing Intel hex&nbsp;files</li>
<li><code>FU_UDEV_DEVICE_DEBUG</code> shows more information about <span class="caps">UDEV</span> devices, including&nbsp;parents</li>
<li><code>FU_USB_DEVICE_DEBUG</code> shows more information about <span class="caps">USB</span>&nbsp;devices</li>
<li><code>FU_MEI_DEVICE_DEBUG</code> shows <span class="caps">MEI</span> reads and&nbsp;writes</li>
<li><code>FWUPD_DEVICE_LIST_VERBOSE</code> display devices being added and removed from the&nbsp;list</li>
<li><code>FWUPD_PROBE_VERBOSE</code> dump the detected devices to the console, even if not supported by&nbsp;fwupd</li>
<li><code>FWUPD_BIOS_SETTING_VERBOSE</code> be verbose while parsing <span class="caps">BIOS</span>&nbsp;settings</li>
<li><code>FWUPD_EFI_SIGNATURE_VERBOSE</code> be verbose while parsing <span class="caps">EFI</span>&nbsp;signatures</li>
</ul>
<h2 id="plugins">Plugins<a class="md-anchor" href="#plugins" title="Permanent link"></a></h2>
<p>Most plugins read a plugin-specific runtime key to increase verbosity more than the usual <code>VERBOSE</code>.
This can be also used when using fwupdtool e.g. using <code>--plugin-verbose=dell</code> will set the
environment variable of <code>FWUPD_DELL_VERBOSE</code> automatically.</p>
<p>Other variables,&nbsp;include:</p>
<ul>
<li><code>FWUPD_DELL_FAKE_SMBIOS</code> if set, use fake <span class="caps">SMBIOS</span> information for&nbsp;tests</li>
<li><code>FWUPD_FORCE_TPM2</code> ignores a <span class="caps">TPM</span> 1.2 device detected in the <span class="caps">TPM</span> self&nbsp;tests</li>
<li><code>FWUPD_PLUGIN_TEST</code> used by the test plugin to pass data out-of-band to the&nbsp;loader</li>
<li><code>FWUPD_REDFISH_SELF_TEST</code> if set, do destructive tests on the actual device <span class="caps">BMC</span></li>
<li><code>FWUPD_REDFISH_SMBIOS_DATA</code> use this filename to emulate a specific <span class="caps">SMBIOS</span>&nbsp;blob</li>
<li><code>FWUPD_SOLOKEY_EMULATE</code> emulates a fake device for&nbsp;testing</li>
<li><code>FWUPD_SUPERIO_DISABLE_MIRROR</code> disables the e-flash fixup to get byte-accurate hardware&nbsp;dumps</li>
<li><code>FWUPD_SUPERIO_RECOVER</code> allow recovery of a corrupted SuperIO by hardcoding the device&nbsp;size</li>
<li><code>FWUPD_TEST_PLUGIN_XML</code> used by the test plugin to load <span class="caps">XML</span> state out-of-band before&nbsp;startup</li>
<li><code>FWUPD_UEFI_CAPSULE_RECREATE_COD_DATA</code> if set, write the files in the example <span class="caps">COD</span> tree in&nbsp;srcdir</li>
<li><code>FWUPD_UEFI_TEST</code> used by the <span class="caps">UEFI</span> plugins to disable specific sanity checks during self&nbsp;tests</li>
<li><code>FWUPD_WAC_EMULATE</code> emulates a fake device for&nbsp;testing</li>
</ul>
<h2 id="file-system-overrides">File system overrides<a class="md-anchor" href="#file-system-overrides" title="Permanent link"></a></h2>
<p>These are not fully documented here, see <a href="https://github.com/fwupd/fwupd/blob/main/libfwupdplugin/fu-common.c">https://github.com/fwupd/fwupd/blob/main/libfwupdplugin/fu-common.c</a>
for&nbsp;details.</p>
<ul>
<li><code>CACHE_DIRECTORY</code></li>
<li><code>CONFIGURATION_DIRECTORY</code></li>
<li><code>FWUPD_ACPITABLESDIR</code></li>
<li><code>FWUPD_DATADIR</code></li>
<li><code>FWUPD_DATADIR_QUIRKS</code></li>
<li><code>FWUPD_EFIAPPDIR</code></li>
<li><code>FWUPD_FIRMWARESEARCH</code></li>
<li><code>FWUPD_LIBDIR_PKG</code></li>
<li><code>FWUPD_LOCALSTATEDIR</code></li>
<li><code>FWUPD_LOCALSTATEDIR_QUIRKS</code></li>
<li><code>FWUPD_OFFLINE_TRIGGER</code></li>
<li><code>FWUPD_PROCFS</code></li>
<li><code>FWUPD_SYSCONFDIR</code></li>
<li><code>FWUPD_SYSFSDRIVERDIR</code></li>
<li><code>FWUPD_SYSFSFWATTRIBDIR</code></li>
<li><code>FWUPD_SYSFSFWDIR</code></li>
<li><code>FWUPD_SYSFSSECURITYDIR</code></li>
<li><code>FWUPD_SYSFSTPMDIR</code></li>
<li><code>FWUPD_UEFI_ESP_PATH</code></li>
<li><code>HOME</code></li>
<li><code>RUNTIME_DIRECTORY</code></li>
<li><code>SNAP</code></li>
<li><code>SNAP_USER_DATA</code></li>
<li><code>STATE_DIRECTORY</code></li>
</ul>
    </div>
  </section>
</section>


    
<div id="toc" class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      
        
        <li class="toc-list-item"><a href="#fwupdmgr-and-fwupdtool"><span class="link-text">fwupdmgr and fwupdtool</span></a></li>
          
        
        <li class="toc-list-item"><a href="#daemon"><span class="link-text">daemon</span></a></li>
          
        
        <li class="toc-list-item"><a href="#self-tests"><span class="link-text">Self Tests</span></a></li>
          
        
        <li class="toc-list-item"><a href="#shared-libfwupdplugin"><span class="link-text">Shared libfwupdplugin</span></a></li>
          
        
        <li class="toc-list-item"><a href="#plugins"><span class="link-text">Plugins</span></a></li>
          
        
        <li class="toc-list-item"><a href="#file-system-overrides"><span class="link-text">File system overrides</span></a></li>
          
        
      
    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>